<div class="bg-white rounded-lg shadow p-6">
    <h2 class="text-xl font-bold mb-6">إضافة حساب جديد</h2>
    
    <form id="add-account-form" class="space-y-4">
        <div>
            <label for="code" class="block mb-1">كود الحساب</label>
            <input type="text" id="code" name="code" required class="w-full p-2 border border-gray-300 rounded">
        </div>
        
        <div>
            <label for="name" class="block mb-1">اسم الحساب</label>
            <input type="text" id="name" name="name" required class="w-full p-2 border border-gray-300 rounded">
        </div>
        
        <div>
            <label for="type_id" class="block mb-1">نوع الحساب</label>
            <select id="type_id" name="type_id" required class="w-full p-2 border border-gray-300 rounded">
                <option value="">اختر نوع الحساب</option>
                <option value="1">أصول</option>
                <option value="2">خصوم</option>
                <option value="3">إيرادات</option>
                <option value="4">مصروفات</option>
            </select>
        </div>
        
        <div>
            <label for="opening_balance" class="block mb-1">الرصيد الافتتاحي</label>
            <input type="number" id="opening_balance" name="opening_balance" value="0" class="w-full p-2 border border-gray-300 rounded">
        </div>
        
        <div>
            <label for="description" class="block mb-1">الوصف (اختياري)</label>
            <textarea id="description" name="description" class="w-full p-2 border border-gray-300 rounded"></textarea>
        </div>
        
        <div>
            <label for="status" class="block mb-1">الحالة</label>
            <select id="status" name="status" class="w-full p-2 border border-gray-300 rounded">
                <option value="active">نشط</option>
                <option value="inactive">غير نشط</option>
            </select>
        </div>
        
        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">حفظ الحساب</button>
    </form>
</div>

<script>
document.getElementById('add-account-form').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    
    fetch('/api/addAccount.php', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        if(data.success) {
            alert('تم إضافة الحساب بنجاح!');
            loadPage('accounts');
        } else {
            alert('حدث خطأ: ' + data.message);
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('حدث خطأ أثناء إضافة الحساب');
    });
});
</script>
